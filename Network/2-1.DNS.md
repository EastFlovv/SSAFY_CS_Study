# DNS
### DNS(Domain Name System)란? 
DNS는 도메인 이름과 IP 주소를 서로 변환하는 역할로 **사람이 읽을 수 있는 도메인 이름(예: www.amazon.com)을 IP 주소(예: 192.0.2.44)로 변환하는 시스템이라는 것을 쉽게 알 수 있다.**  
_만약 DNS를 사용하지 않고 모든 웹 사이트 주소를 도메인 대신 IP주소로 외운다고 생각하면 머리 아파진다._    

전세계적으로 약속된 규칙을 공유하며 상위 기관에서 인증된 기관에게 도메인을 생성하거나 IP 주소로 변경할 수 있는 ‘권한’을 부여한다.  
DNS는 이처럼 상위 기관과 하위 기관과 같은 ‘계층 구조’를 가지는 분산 데이터베이스 구조를 가진다.  

### DNS 구성 요소
1. 도메인 네임 스페이스(Domain Name Space)
2. 네임 서버(Name Server) = 권한 있는 DNS 서버
3. 리졸버(Resolver) = 권한 없는 DNS 서버

- 우선 “이 도메인 이름은 이 IP 주소이다”라는 ‘텍스트’를 저장하는 데이터베이스가 필요하다.  
- 그리고 분산된 데이터가 어디 저장되어 있는지 찾을 프로그램들이 필요하고 찾았으면 해당 IP 주소로 이동할 프로그램(브라우저 등)이 필요하다.  
- **도메인 네임 스페이스**라는 **규칙(방법)** 으로 도메인 이름 저장을 분산한다.  
- **네임 서버**(DNS 서버)가 해당 도메인 이름의 IP 주소를 찾는다.  
> 리졸버 서버 등 시스템 안에서 다른 역할을 하는 서버도 있기에 DNS 서버라고 하는 것보다 네임 서버라고 하는 것이 좋다.
- **리졸버**가 DNS 클라이언트 요청을 네임 서버로 전달하고 찾은 정보를 클라이언트에게 제공하는 기능을 수행한다.  
- 어떤 네임 서버에서 찾아야하는지, 이미 캐시 되어있는지 등 어떻게든 찾아서 클라이언트에게 찾았으면 찾은 것을 못 찾았으면 못 찾았다고 전달하는 역할을 한다.  
- 리졸버는 단말에 구현하는 것은 무리수라 보통은 리졸버가 구현된 네임 서버의 IP 주소만을 파악한다.  
- 대표적인 것이 KT/LG/SK와 같은 ISP(통신사) DNS 있고, 브라우저 우회 용도로 많이 쓰는 구글 DNS, 클라우드플레어와 같은 Public DNS 서버가 있다.  
- 그래서 거의 Resolver = Recursive DNS Server = Local Server(of ISP) = Recursor 이다.

### DNS가 분산 구조인 이유?
- “이 도메인 좀 IP 주소로 바꿔줄래?”라고 할 수 있는 서버(네임서버)가 한 대만 있지 않기 때문이다. (슈퍼 짱짱 컴퓨터면 가능할지도… 그래도 물리적 거리가 멀면… 느릴듯…)
- 그렇다면 여러 서버(네임서버)를 만들면 되지 않을까? 그렇게 되면 해당 정보(도메인과 IP 주소)를 모든 서버에서 공유해야한다. 안그러면 어떤 서버(네임서버)에서는 ‘www.naver.com’의 IP 주소를 모른다고 할 수도 있다.
- 그래서 도메인을 계층적으로 구분하는, 정보(도메인과 IP주소)를 분산하는 구조를 선택하게 되었다.
- 그래서 도메인에 닷(dot), 점이 있는 것이다. 점이 계층을 나타낸다.

## DNS 동작 방식

### 예상 질문
DNS 란?  
DNS 사용 이유?  
DNS 동작 방식?  
DNS 서버를 Centralize하게 만들지 않는 이유는?  


### 참고링크
https://hanamon.kr/dns%EB%9E%80-%EB%8F%84%EB%A9%94%EC%9D%B8-%EB%84%A4%EC%9E%84-%EC%8B%9C%EC%8A%A4%ED%85%9C-%EA%B0%9C%EB%85%90%EB%B6%80%ED%84%B0-%EC%9E%91%EB%8F%99-%EB%B0%A9%EC%8B%9D%EA%B9%8C%EC%A7%80/
